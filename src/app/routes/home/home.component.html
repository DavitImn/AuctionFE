<div class="container">
  <div class="filters-section">
    <div class="filter-group">
      <div class="filter-label">დალაგება ფასის მიხედვით</div>
      <select class="filter-select" (change)="onSortChange($event)">
        <option value="default">ნაგულისხმევი</option>
        <option value="low-to-high">ფასი: დაბლიდან მაღლა</option>
        <option value="high-to-low">ფასი: მაღლიდან დაბლა</option>
      </select>
    </div>
    
    <div class="filter-group">
      <div class="filter-label">კატეგორიის ფილტრი</div>
      <select class="filter-select" (change)="onCategoryChange($event)">
        <option value="all">ყველა</option>
        <option value="Vintage">ვინტაჟი</option>
        <option value="Home Things">სახლის ნივთები</option>
        <option value="Electronic">ელექტრონიკა</option>
        <option value="Art">ხელოვნება</option>
        <option value="Furniture">ავეჯი</option>
      </select>
    </div>

    <div class="filter-group checkbox-filter">
      <label class="checkbox-label">
        <input type="checkbox" [(ngModel)]="showOnlyActive" (change)="onShowActiveChange($event)">
        <span class="checkbox-text">მხოლოდ აქტიური აუქციონები</span>
      </label>
    </div>
  </div>

  <div class="auctions-grid">
    <div class="auction-card" *ngFor="let auction of auctions">
      <div class="card-content-wrapper" (click)="navigateToAuction(auction.id)">
        <div class="card-image-container">
          <img [src]="_http.publicUrl + auction.imageUrl" alt="{{auction.title}}" class="card-image">
          <div class="status-badge" [ngClass]="getStatusClass(auction.status)">
            {{auction.status === 'Pending' ? 'მოლოდინში' :
              auction.status === 'Active' ? 'აქტიური' :
              auction.status === 'Closed' ? 'დასრულებული' :
              auction.status === 'Cancelled' ? 'გაუქმებული' : ''}}
            {{auction.currentPrice}}₾
          </div>
        </div>
        
        <div class="card-content">
          <h3 class="card-title">{{auction.title}}</h3>
          <p class="card-description">{{auction.description}}</p>
          
          <div class="card-details">
            <span class="detail-label">კატეგორია:</span>
            <span class="detail-value">{{auction.category}}</span>
            
            <span class="detail-label">მდგომარეობა:</span>
            <span class="detail-value">{{auction.condition}}</span>
            
            <span class="detail-label">გამყიდველი:</span>
            <span class="detail-value">{{auction.seller}}</span>
            
            <span class="detail-label">საწყისი ფასი:</span>
            <span class="detail-value">{{auction.startingPrice}}₾</span>
            
            <span class="detail-label">მიმდინარე ფასი:</span>
            <span class="detail-value">{{auction.currentPrice}}₾</span>
          </div>

          <div class="countdown-row" *ngIf="auction.status !== 'Closed' && auction.status !== 'Cancelled'">
            <div class="time-unit" *ngIf="auction.timeLeft.days > 0">
              <span class="time-value">{{auction.timeLeft.days}}</span>
              <span class="time-label">დღე</span>
            </div>
            <div class="time-unit">
              <span class="time-value">{{auction.timeLeft.hours}}</span>
              <span class="time-label">სთ</span>
            </div>
            <div class="time-unit">
              <span class="time-value">{{auction.timeLeft.minutes}}</span>
              <span class="time-label">წთ</span>
            </div>
            <div class="time-unit">
              <span class="time-value">{{auction.timeLeft.seconds}}</span>
              <span class="time-label">წმ</span>
            </div>
          </div>
        </div>
      </div>

      <div class="card-footer">
        <button class="bid-button" (click)="$event.stopPropagation()" [disabled]="auction.status !== 'Active'">
          {{auction.status === 'Closed' || auction.status === 'Cancelled' ? 'დასრულებულია' : 'ბიდის დადება'}}
        </button>
      </div>
    </div>
  </div>
</div>
